
---

# 오늘의 작업 기록: GitHub Pages + Jekyll 커스터마이징(Windows)

## 개요

* GitHub Pages + Jekyll로 개인 블로그를 구축하고, **좌측 폴더 네비(업무/스터디)**, **홈 화면 히어로/카드/그리드/검색**, **CSS 파이프라인**을 정리했습니다.
* 최종 배포: `https://felicityprojects.github.io/` (정상 동작 확인)

---

## 1) GitHub Pages 기본 세팅

* **유저 사이트(User site)** 규칙에 맞춰 리포지토리를 `<username>.github.io` 로 생성 → URL은 `https://<username>.github.io` 형태가 됩니다. (예: `FelicityProjects.github.io` → `https://felicityprojects.github.io`)
* Pages 설정: **Settings → Pages → Deploy from a branch → main / (root)** 선택.

---

## 2) 로컬 개발 & 인코딩 이슈 메모

* PowerShell에서 `bundle exec jekyll serve` 로 로컬 미리보기(`http://127.0.0.1:4000`).
* Windows 한글 계정 환경에서 `UTF-8 vs CP949` 인코딩 충돌이 발생해 콘솔을 `chcp 65001`로 전환하고, Gem 경로를 영문 디렉터리로 지정해 해소했습니다. *(환경 의존 이슈라 설정은 각자 환경에 맞춰 조정)*

---

## 3) 컬렉션으로 “폴더처럼” 구조화

블로그 포스트는 `_posts/`에만 두고, **업무/스터디 문서는 컬렉션**으로 분리해 메인이 길어지지 않게 했습니다.

```yaml
# _config.yml
collections:
  work:
    output: true
    permalink: /work/:path/
  study:
    output: true
    permalink: /study/:path/
```

* `output: true` 를 주면 컬렉션 문서가 **실제 정적 페이지**로 생성됩니다. `permalink`로 컬렉션 URL 패턴도 제어.

문서 예시(컬렉션 파일은 `_work/`, `_study/` 안에 둡니다):

```markdown
---
title: "Jenkins 배포 자동화 정리"
layout: page
order: 1
---
내용…
```

---

## 4) 좌측 사이드바(접힘/펼침)

JS 없이 HTML 기본 위젯으로 간단/안정 구현:

```html
<!-- _includes/sidebar.html -->
<nav class="sidebar-nav">
  <details class="folder">
    <summary>업무</summary>
    <ul>
      {% for doc in site.work %}
        <li><a href="{{ doc.url | relative_url }}">{{ doc.title }}</a></li>
      {% endfor %}
    </ul>
  </details>

  <details class="folder">
    <summary>스터디</summary>
    <ul>
      {% for doc in site.study %}
        <li><a href="{{ doc.url | relative_url }}">{{ doc.title }}</a></li>
      {% endfor %}
    </ul>
  </details>
</nav>
```

* 링크에는 Jekyll의 `relative_url` 필터를 사용해 `baseurl` 상황(프로젝트/유저 사이트 모두)에 안전하게 대응했습니다.

---

## 5) 테마 오버라이드: 기본 레이아웃/헤드

Jekyll 테마(minima 등)는 **동일 경로·이름의 파일을 내 리포에 만들면 오버라이드**됩니다.

**레이아웃 골격**

```html
<!-- _layouts/default.html -->
<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'ko' }}">
  <head>{%- include head.html -%}</head>
  <body>
    <header class="site-header">{%- include header.html -%}</header>
    <div class="page">
      <aside class="sidebar">{%- include sidebar.html -%}</aside>
      <main class="page-content">{{ content }}</main>
    </div>
    <footer class="site-footer">{%- include footer.html -%}</footer>
  </body>
</html>
```

**헤드 & 커스텀 훅**

```html
<!-- _includes/head.html -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}</title>

<link rel="stylesheet" href="{{ "/assets/main.css" | relative_url }}">
{%- seo -%}{%- feed_meta -%}{%- include custom-head.html -%}
```

```html
<!-- _includes/custom-head.html -->
<!-- 파비콘/폰트/추가 메타 등 필요 시 여기에 -->
```

---

## 6) CSS 파이프라인(SCSS → CSS)

메인 SCSS 파일은 **맨 위에 빈 프론트매터(---)** 를 넣어야 Jekyll이 Sass로 처리해 `/assets/main.css`를 생성합니다. *(프론트매터 없는 SCSS는 변환되지 않음)*

```scss
/* assets/main.scss */
---
---
@import "minima";  /* 테마 스타일 로드 후 아래에서 덮어쓰기 */

/* 커스텀 */
.page { max-width: 1200px; margin: 0 auto; }
.sidebar { width: 200px; padding: 1rem; border-right: 1px solid #eee; }
```

* 브라우저에서 `/assets/main.css`가 200으로 열리면 빌드 성공.
* CSS 링크는 `<link rel="stylesheet" href="{{ "/assets/main.css" | relative_url }}">` 형태로. (배포/로컬 모두 안전)

---

## 7) 홈 화면 강화(히어로/카드/그리드/검색)

* `_layouts/home.html` 을 만들어 **히어로/폴더 카드/최근 글 그리드/검색(Simple Jekyll Search)** 구성.
* `index.md` 의 레이아웃을 `home` 으로 변경.
* 검색 인덱스는 `search.json` 으로 클라이언트에서 불러오게 구성. *(클라이언트 검색 라이브러리 사용 시 Pages에서도 플러그인 없이 동작)*

(※ 라이브러리 사용 시 각 프로젝트 가이드에 따르되, 경로는 `relative_url`을 권장.)

---

## 8) 오늘의 트러블슈팅 🧰

1. **custom-head include 에러**

   * 원인: `head.html`에서 `{% include custom-head.html %}` 호출, 파일 미존재
   * 조치: `_includes/custom-head.html` 파일 생성(비어 있어도 됨).
   * 배경: 테마의 인클루드는 동일 경로/이름으로 **오버라이드/확장**하는 방식.

2. **CSS가 적용되지 않음**

   * 원인 다수: (a) `assets/main.scss`에 프론트매터 누락, (b) `<head>`에 CSS 링크 누락/오경로, (c) 캐시
   * 조치: 프론트매터 추가 → `/assets/main.css` 생성 확인, `<head>`에 `{{ "/assets/main.css" | relative_url }}` 링크 삽입.

3. **컬렉션 페이지 404**

   * 원인: `_config.yml`에 `output: true` 미설정
   * 조치: 컬렉션 메타데이터에 `output: true` + `permalink` 설정.

4. **유저/프로젝트 URL 혼동**

   * 유저 사이트는 `<username>.github.io` 리포에서만 루트 도메인(`https://<username>.github.io`)로 노출됩니다. 프로젝트 사이트는 `https://<username>.github.io/<repo>` 경로.

---

## 9) 홈 히어로 섹션 “반절 사이즈”로 조정

HTML은 그대로 두고 CSS만 오버라이드:

```scss
/* 반 사이즈로 축소 */
.home-hero { padding: 32px 0 24px; }  /* 기존 64/48 → 32/24 */
.home-hero h1 { font-size: 24px; }    /* 기존 48 → 24 */
.tagline { margin-bottom: 10px; }
```

---

## 마무리 & 다음 할 일

* 배포/로컬 공용 경로는 **항상 `relative_url`** 필터를 사용해 안전하게 연결.
* 컬렉션에 문서를 추가하면 사이드바(업무/스터디) 자동 반영.
* 다음: OG 이미지/파비콘/웹폰트, 검색 튜닝, 목록 카드 썸네일 도입, 다크모드 대비 마이너 폰트/색 보정 등.

---

### 참고 링크

* GitHub Pages: 유저/프로젝트 사이트 개요 & 리포지토리 규칙
* Jekyll Collections(컬렉션) 문서 & `output: true`/`permalink`
* Jekyll Liquid `relative_url` 필터(경로 안전화)
* Jekyll 테마 오버라이드(레이아웃/인클루드 교체)
* Jekyll Assets/Sass: 메인 SCSS에 프론트매터 필요

필요하시면 위 원고를 바탕으로 **스크린샷/이미지(전·후 비교) 추가 버전**도 만들어 드릴게요.
